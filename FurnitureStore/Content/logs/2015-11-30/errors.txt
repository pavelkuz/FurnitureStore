2015-11-30 21:22:06.7377|ERROR|FurnitureStore.Models.FurnitureRepository|NHibernate.MappingException: Could not compile the mapping document: c:\users\pavel\documents\visual studio 2013\Projects\FurnitureStore\FurnitureStore\Models\NHibernate\Mappings\Goods.hbm.xml ---> NHibernate.MappingException: Problem trying to set property type by reflection ---> NHibernate.MappingException: class FurnitureStore.Models.FurnitureType, FurnitureStore not found while looking for property: Name ---> NHibernate.PropertyNotFoundException: Could not find a getter for property 'Name' in class 'FurnitureStore.Models.FurnitureType'
   в NHibernate.Properties.BasicPropertyAccessor.GetGetter(Type type, String propertyName)
   в NHibernate.Util.ReflectHelper.GetGetter(Type theClass, String propertyName, String propertyAccessorName)
   в NHibernate.Util.ReflectHelper.ReflectedPropertyClass(String className, String name, String accessorName)
   --- Конец трассировки внутреннего стека исключений ---
   в NHibernate.Util.ReflectHelper.ReflectedPropertyClass(String className, String name, String accessorName)
   в NHibernate.Mapping.SimpleValue.SetTypeUsingReflection(String className, String propertyName, String accesorName)
   --- Конец трассировки внутреннего стека исключений ---
   в NHibernate.Mapping.SimpleValue.SetTypeUsingReflection(String className, String propertyName, String accesorName)
   в NHibernate.Cfg.XmlHbmBinding.PropertiesBinder.CreateProperty(IEntityPropertyMapping propertyMapping, String propertyOwnerClassName, IValue value, IDictionary`2 inheritedMetas)
   в NHibernate.Cfg.XmlHbmBinding.PropertiesBinder.Bind(IEnumerable`1 properties, Table table, IDictionary`2 inheritedMetas, Action`1 modifier, Action`1 addToModelAction)
   в NHibernate.Cfg.XmlHbmBinding.ClassBinder.BindComponent(IComponentMapping componentMapping, Component model, Type reflectedClass, String className, String path, Boolean isNullable, IDictionary`2 inheritedMetas)
   в NHibernate.Cfg.XmlHbmBinding.PropertiesBinder.Bind(IEnumerable`1 properties, Table table, IDictionary`2 inheritedMetas, Action`1 modifier, Action`1 addToModelAction)
   в NHibernate.Cfg.XmlHbmBinding.PropertiesBinder.Bind(IEnumerable`1 properties, IDictionary`2 inheritedMetas, Action`1 modifier)
   в NHibernate.Cfg.XmlHbmBinding.PropertiesBinder.Bind(IEnumerable`1 properties, IDictionary`2 inheritedMetas)
   в NHibernate.Cfg.XmlHbmBinding.RootClassBinder.Bind(HbmClass classSchema, IDictionary`2 inheritedMetas)
   в NHibernate.Cfg.XmlHbmBinding.MappingRootBinder.AddRootClasses(HbmClass rootClass, IDictionary`2 inheritedMetas)
   в NHibernate.Cfg.XmlHbmBinding.MappingRootBinder.AddEntitiesMappings(HbmMapping mappingSchema, IDictionary`2 inheritedMetas)
   в NHibernate.Cfg.XmlHbmBinding.MappingRootBinder.Bind(HbmMapping mappingSchema)
   в NHibernate.Cfg.Configuration.AddDeserializedMapping(HbmMapping mappingDocument, String documentFileName)
   --- Конец трассировки внутреннего стека исключений ---
   в NHibernate.Cfg.Configuration.LogAndThrow(Exception exception)
   в NHibernate.Cfg.Configuration.AddDeserializedMapping(HbmMapping mappingDocument, String documentFileName)
   в NHibernate.Cfg.Configuration.AddValidatedDocument(NamedXmlDocument doc)
   в NHibernate.Cfg.Configuration.ProcessMappingsQueue()
   в NHibernate.Cfg.Configuration.AddDocumentThroughQueue(NamedXmlDocument document)
   в NHibernate.Cfg.Configuration.AddXmlReader(XmlReader hbmReader, String name)
   в NHibernate.Cfg.Configuration.AddXmlFile(String xmlFile)
   в NHibernate.Cfg.Configuration.AddFile(String xmlFile)
   в NHibernate.Cfg.Configuration.AddFile(FileInfo xmlFile)
   в NHibernate.Cfg.Configuration.AddDirectory(DirectoryInfo dir)
   в FurnitureStore.Models.Utils.NHibernateHelper.get_SessionFactory() в c:\Users\Pavel\Documents\Visual Studio 2013\Projects\FurnitureStore\FurnitureStore\Models\Utils\NHibernateHelper.cs:строка 24
   в FurnitureStore.Models.Utils.NHibernateHelper.OpenSession() в c:\Users\Pavel\Documents\Visual Studio 2013\Projects\FurnitureStore\FurnitureStore\Models\Utils\NHibernateHelper.cs:строка 33
   в FurnitureStore.Models.FurnitureRepository.Save(IFurniture furniture) в c:\Users\Pavel\Documents\Visual Studio 2013\Projects\FurnitureStore\FurnitureStore\Models\FurnitureRepository.cs:строка 33
2015-11-30 21:25:05.7299|ERROR|FurnitureStore.Models.FurnitureRepository|NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Goods_Types". The conflict occurred in database "FurnitureStore", table "dbo.Types", column 'Id'.
The statement has been terminated.
   в System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   в System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   в System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   в System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   в System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   в System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   в System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   в System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite)
   в System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   в System.Data.SqlClient.SqlCommand.ExecuteBatchRPCCommand()
   в System.Data.SqlClient.SqlCommandSet.ExecuteNonQuery()
   в NHibernate.AdoNet.SqlClientSqlCommandSet.ExecuteNonQuery()
   в NHibernate.AdoNet.SqlClientBatchingBatcher.DoExecuteBatch(IDbCommand ps)
   --- Конец трассировки внутреннего стека исключений ---
   в NHibernate.AdoNet.SqlClientBatchingBatcher.DoExecuteBatch(IDbCommand ps)
   в NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(IDbCommand ps)
   в NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   в NHibernate.Engine.ActionQueue.ExecuteActions(IList list)
   в NHibernate.Engine.ActionQueue.ExecuteActions()
   в NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)
   в NHibernate.Event.Default.DefaultFlushEventListener.OnFlush(FlushEvent event)
   в NHibernate.Impl.SessionImpl.Flush()
   в NHibernate.Transaction.AdoTransaction.Commit()
   в FurnitureStore.Models.FurnitureRepository.Save(IFurniture furniture) в c:\Users\Pavel\Documents\Visual Studio 2013\Projects\FurnitureStore\FurnitureStore\Models\FurnitureRepository.cs:строка 38
2015-11-30 21:28:24.4903|ERROR|FurnitureStore.Models.FurnitureRepository|NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Goods_Types". The conflict occurred in database "FurnitureStore", table "dbo.Types", column 'Id'.
The statement has been terminated.
   в System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   в System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   в System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   в System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   в System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   в System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   в System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   в System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite)
   в System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   в System.Data.SqlClient.SqlCommand.ExecuteBatchRPCCommand()
   в System.Data.SqlClient.SqlCommandSet.ExecuteNonQuery()
   в NHibernate.AdoNet.SqlClientSqlCommandSet.ExecuteNonQuery()
   в NHibernate.AdoNet.SqlClientBatchingBatcher.DoExecuteBatch(IDbCommand ps)
   --- Конец трассировки внутреннего стека исключений ---
   в NHibernate.AdoNet.SqlClientBatchingBatcher.DoExecuteBatch(IDbCommand ps)
   в NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(IDbCommand ps)
   в NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   в NHibernate.Engine.ActionQueue.ExecuteActions(IList list)
   в NHibernate.Engine.ActionQueue.ExecuteActions()
   в NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)
   в NHibernate.Event.Default.DefaultFlushEventListener.OnFlush(FlushEvent event)
   в NHibernate.Impl.SessionImpl.Flush()
   в NHibernate.Transaction.AdoTransaction.Commit()
   в FurnitureStore.Models.FurnitureRepository.Save(IFurniture furniture) в c:\Users\Pavel\Documents\Visual Studio 2013\Projects\FurnitureStore\FurnitureStore\Models\FurnitureRepository.cs:строка 38
2015-11-30 21:33:10.3666|ERROR|FurnitureStore.Models.FurnitureRepository|NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Goods_Types". The conflict occurred in database "FurnitureStore", table "dbo.Types", column 'Id'.
The statement has been terminated.
   в System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   в System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   в System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   в System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   в System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   в System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   в System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   в System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite)
   в System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   в System.Data.SqlClient.SqlCommand.ExecuteBatchRPCCommand()
   в System.Data.SqlClient.SqlCommandSet.ExecuteNonQuery()
   в NHibernate.AdoNet.SqlClientSqlCommandSet.ExecuteNonQuery()
   в NHibernate.AdoNet.SqlClientBatchingBatcher.DoExecuteBatch(IDbCommand ps)
   --- Конец трассировки внутреннего стека исключений ---
   в NHibernate.AdoNet.SqlClientBatchingBatcher.DoExecuteBatch(IDbCommand ps)
   в NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(IDbCommand ps)
   в NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   в NHibernate.Engine.ActionQueue.ExecuteActions(IList list)
   в NHibernate.Engine.ActionQueue.ExecuteActions()
   в NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)
   в NHibernate.Event.Default.DefaultFlushEventListener.OnFlush(FlushEvent event)
   в NHibernate.Impl.SessionImpl.Flush()
   в NHibernate.Transaction.AdoTransaction.Commit()
   в FurnitureStore.Models.FurnitureRepository.Save(IFurniture furniture) в c:\Users\Pavel\Documents\Visual Studio 2013\Projects\FurnitureStore\FurnitureStore\Models\FurnitureRepository.cs:строка 38
